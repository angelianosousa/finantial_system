<div class='container mb-4' style="padding-bottom: 70px;">

  <nav class="navbar navbar-light mb-2" style="background-color:DarkSlateGray;color:white;border-radius:10px;">
    <a class="navbar-brand" href="/users_backoffice/welcome/index">Graphic Panel</a>
  </nav>

  <%= render 'search_filter' %>

  <div class="row-md">
    <div class="tile_count">
      <div class="col-md-4 col-sm-4 mb-3">
        <div class='card border-primary'>
          <div class='card-header bg-primary text-white'>
            <span class="count_top" style=";font-size:15px;"><i class="fa fa-bank"></i> Current Balance</span>
          </div>
          <div class='card-body'>
            <div class="count" style="font-size:25px;"><%= humanized_money_with_symbol(@transactions.recipes.sum(:price_cents) - @transactions.expenses.sum(:price_cents)) %></div>
          </div>
        </div>
      </div>
      <div class="col-md-4 col-sm-4 mb-3">
        <div class='card border-success'>
          <div class='card-header bg-success text-white'>
            <span class="count_top" style="font-size:15px;"><i class="fa fa-arrow-up"></i> Total Recipes</span>
          </div>
          <div class='card-body'>
            <div class="count" style="font-size:25px;"><%= humanized_money_with_symbol(@transactions.recipes.sum(:price_cents)) %></div>
          </div>
        </div>
      </div>
      <div class="col-md-4 col-sm-4 mb-3">
        <div class='card border-danger'>
          <div class='card-header bg-danger text-white'>
            <span class="count_top" style="font-size:15px;"><i class="fa fa-arrow-down"></i> Total Expenses</span>
          </div>
          <div class='card-body'>
            <div class="count" style="font-size:25px;"><%= humanized_money_with_symbol(@transactions.expenses.sum(:price_cents)) %></div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div> <br>

<div class='row mb-2'>
  <div class='col-md mb-3'>
    <div class='card border border-secondary'>
      <div class='card-body'>
        <!-- Scope transactions_recipes_per_date -->
        <%= line_chart @transactions.recipes.group(:date).sum(:price_cents), legend: false,
          title: "My Recipes #{params[:q][:date_gteq]} #{params[:q][:date_lteq]}", curve: true, xtitle: 'Days', ytitle: 'Value ($)',
          download: { filename: "Moviments #{Date.today}", background:'#ffffff' }, colors:['#00FF7F'] %>
      </div>
    </div>
  </div>
  <div class='col-md mb-3'>
    <div class='card border border-secondary'>
      <div class='card-body'>
        <!-- Scope transactions_recipes_per_date -->
        <%= line_chart @transactions.expenses.group(:date).sum(:price_cents), legend: false,
          title: "My Expenses #{params[:q][:date_gteq]} #{params[:q][:date_lteq]}", curve: true, xtitle: 'Days', ytitle: 'Value ($)',
          download: { filename: "Moviments #{Date.today}", background:'#ffffff' }, colors:['#DC143C'] %>
      </div>
    </div>
  </div>
</div>

<div class='row'>
  <div class='col-md-6 mb-3'>
    <div class='card border border-secondary'>
      <div class='card-body'>
        <!-- Scope transactions_expenses_per_date -->
        <%= column_chart Category.recipes.group(:title).sum(:price_cents), legend: false, colors: ['#3CB371'],
        title: 'My Recipes', xtitle: 'Categories', ytitle: 'Value ($)', download: { filename: "My Recipes - #{Date.today}", background:'#ffffff'} %>
      </div>
    </div>
  </div>
  <div class='col-md-6 mb-3'>
    <div class='card border border-secondary'>
      <div class='card-body'>
        <!-- Scope transactions_expenses_per_date -->
        <%= column_chart Category.expenses.group(:title).sum(:price_cents), legend: false, colors:['#FF6347'],
        title: 'My Expenses', xtitle: 'Categories', ytitle: 'Value ($)', download: { filename: "My Expenses - #{Date.today}", background:'#ffffff'} %>
      </div>
    </div>
  </div>
</div>
